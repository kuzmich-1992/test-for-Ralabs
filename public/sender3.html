<html>
<head> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/pbkdf2.js"></script>
</head>

  <form action="http://localhost:3000/messages#create" method="post">
  <div>
    <p>Enter text</p>
    <input id="text" type="text" name="text" />
    <p>Enter pasword</p>
    <input id="password_text" type="text" name="text" />
    
    <input type="hidden" id="password" name="password" value="">
    <button>Send</button>
  </div>
  </form>

  <script>

    var message = document.querySelector("#text").value ;

    var key = document.querySelector("#password_text").value ;

    function encrypt(message = '', key = ''){
    var message = CryptoJS.AES.encrypt(message, key);
    return message.toString();
    };
    
    var encrypted = encrypt(message,key);

    document.getElementById("password").value = encrypted;

  </script>