
<!DOCTYPE html>
<html>
<head>
 <title>E2EE</title>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
</head>
<body>

</body>
</html>

<script>

let code = (function(){
    return{
      encryptMessage: function(messageToencrypt = '', secretkey = ''){
        var encryptedMessage = CryptoJS.AES.encrypt(messageToencrypt, secretkey);
        return encryptedMessage.toString();
      },
      decryptMessage: function(encryptedMessage = '', secretkey = ''){
        var decryptedBytes = CryptoJS.AES.decrypt(encryptedMessage, secretkey);
        var decryptedMessage = decryptedBytes.toString(CryptoJS.enc.Utf8);

        return decryptedMessage;
      }
    }
})();

var message = 'Welcome to AES !';
var key = 'your_password';
var encrypted = code.encryptMessage(message,key);
console.log(typeof key);
console.log(typeof message);
console.log(encrypted);
console.log(typeof encrypted);

var message = encrypted ;
var key = 'your_password';
console.log(typeof key);
console.log(typeof message);
var decrypted = code.decryptMessage(message,key);
console.log(decrypted);
console.log(typeof decrypted);
</script>